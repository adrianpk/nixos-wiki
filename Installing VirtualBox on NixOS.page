This page describes how to run VirtualBox on NixOS.

Enabling VirtualBox
-------------------

Add the following to your `configuration.nix`:

    require = [ <nixos/modules/programs/virtualbox.nix> ];

Then run:

    $ nixos-rebuild switch

VirtualBox is only available to users in the `vboxusers` group. So to
enable VirtualBox for user `alice`, do:

    $ usermod -a -G vboxusers alice

Running VirtualBox
------------------

Just do:

    $ VirtualBox

Error messages
--------------

Since this expression implements the open source VirtualBox it **does
not include VirtualBox Extension Pack(s)**.

### Failed to access the USB subsystem

The message:

    Failed to access the USB subsystem.
    VirtualBox is not currently allowed to access USB devices. You can change this by allowing your user to access the 'usbfs' folder and files. Please see the user manual for a more detailed explanation.

Shows that you do not have access to the usbfs. **Such USB access might
require Oracle VirtualBox (non-free) and the VirtualBox Extension Pack
installed** on the Host computer, as well as the user being part of the
vboxusers group.

### Missing kernel modules

If you get this error message (like this), something went wrong:

    /dev/vboxdrv does not exist. Load the kernel module then try again.
